# Chrome Cleanup Daemon Configuration
# 
# This file configures the OpenClaw Chrome process cleanup daemon.
# Place this file in the same directory as chrome-cleanup.sh
# or at ~/.openclaw/browser/chrome-cleanup.conf

# ── Core Settings ─────────────────────────────────────────────────────────────

# Maximum number of Chrome instances allowed at once
# When exceeded, oldest idle instances are terminated
MAX_CHROME_INSTANCES=2

# Idle timeout in seconds - Chrome processes with no CDP connection
# older than this will be terminated
IDLE_TIMEOUT_SECS=120

# How often to scan (in seconds) - only used in daemon mode
CHECK_INTERVAL_SECS=30

# ── Logging ───────────────────────────────────────────────────────────────────

# Log file location
LOG_FILE="$HOME/.openclaw/logs/chrome-cleanup.log"

# Maximum log file size before rotation (bytes)
LOG_MAX_BYTES=1048576

# ── Safety ────────────────────────────────────────────────────────────────────

# If true, only log actions without actually killing processes
DRY_RUN=false

# OpenClaw user data directory - CRITICAL for filtering
# Only Chrome processes with this --user-data-dir will be affected
OPENCLAW_USERDATA_DIR="$HOME/.openclaw/browser"

# ── Platform Notes ────────────────────────────────────────────────────────────
# 
# Linux: Uses systemd service (scripts/systemd/chrome-cleanup.service)
#        Uses /proc filesystem and ss command
#
# macOS: Uses launchd service (TODO - scripts/launchd/chrome-cleanup.plist)
#        Uses lsof and pgrep commands
#
# The script auto-detects platform and uses appropriate commands.
